<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>CI: GitHub Actions &#8212; SuperCollider Wiki  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=83e35b93" />
    <link rel="stylesheet" type="text/css" href="../../_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=7d9986eb" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="CI: Travis and AppVeyor" href="Continuous-integration%3A-Travis-and-Appveyor.html" />
    <link rel="prev" title="Project structure" href="index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=grey data-md-color-accent=light-grey>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#development/project-structure/Continuous-integration:-GitHub-Actions" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="SuperCollider Wiki  documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">SuperCollider wiki</span>
          <span class="md-header-nav__topic"> CI: GitHub Actions </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder=""Search""
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/capital-G/supercollider-wiki" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    SuperCollider Wiki
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="../../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../../"versions.json"",
        target_loc = "../../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">SuperCollider Wiki  documentation</a></li>
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Development</a></li>
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Project structure</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../index.html" title="SuperCollider Wiki documentation" class="md-nav__button md-logo">
      
        <img src="../../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../../index.html"
       title="SuperCollider Wiki documentation">SuperCollider wiki</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/capital-G/supercollider-wiki" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    SuperCollider Wiki
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../../contributing/index.html" class="md-nav__link">Contributing</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../index.html" class="md-nav__link">Development</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../git/index.html" class="md-nav__link">Git</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../meetings/index.html" class="md-nav__link">Meetings</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../misc/index.html" class="md-nav__link">Miscellaneous dev notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="index.html" class="md-nav__link">Project structure</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> CI: GitHub Actions </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">CI: GitHub Actions</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#development-project-structure-continuous-integration-github-actions--page-root" class="md-nav__link">CI: GitHub Actions</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#branch-vs-pr-builds" class="md-nav__link">Branch vs PR builds</a>
        </li>
        <li class="md-nav__item"><a href="#access-to-ci" class="md-nav__link">Access to CI</a>
        </li>
        <li class="md-nav__item"><a href="#access-to-s3" class="md-nav__link">Access to S3</a>
        </li>
        <li class="md-nav__item"><a href="#encrypted-information" class="md-nav__link">Encrypted information</a>
        </li>
        <li class="md-nav__item"><a href="#storage-and-deployment-of-build-artifacts" class="md-nav__link">Storage and deployment of build artifacts</a>
        </li>
        <li class="md-nav__item"><a href="#skip-ci" class="md-nav__link">[skip ci]</a>
        </li>
        <li class="md-nav__item"><a href="#restarting-builds" class="md-nav__link">Restarting builds</a>
        </li>
        <li class="md-nav__item"><a href="#ci-config-files" class="md-nav__link">CI config files</a>
        </li>
        <li class="md-nav__item"><a href="#linting" class="md-nav__link">Linting</a>
        </li>
        <li class="md-nav__item"><a href="#build-steps" class="md-nav__link">Build steps</a>
        </li>
        <li class="md-nav__item"><a href="#test-suite" class="md-nav__link">Test suite</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#which-tests-are-being-run" class="md-nav__link">Which tests are being run</a>
        </li>
        <li class="md-nav__item"><a href="#adding-new-tests-to-the-test-suite" class="md-nav__link">Adding new tests to the test suite</a>
        </li>
        <li class="md-nav__item"><a href="#removing-tests-from-the-test-suite" class="md-nav__link">Removing tests from the test suite</a>
        </li>
        <li class="md-nav__item"><a href="#additional-notes" class="md-nav__link">Additional notes</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#notes-on-migrating-from-travis-appveyor-to-github-actions" class="md-nav__link">Notes on migrating from Travis/AppVeyor to GitHub Actions</a>
        </li>
        <li class="md-nav__item"><a href="#troubleshooting-tips-and-tricks" class="md-nav__link">Troubleshooting, tips and tricks</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../_sources/development/project-structure/Continuous-integration:-GitHub-Actions.md.txt">Show Source</a> </li>

  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="Continuous-integration%3A-Travis-and-Appveyor.html" class="md-nav__link">CI: Travis and AppVeyor</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="Miscellaneous-project-information-%28CI%2C-maintenance-scripts%2C-etc.%29.html" class="md-nav__link">Miscellaneous project information</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="Notes-for-refactoring-the-server-implementation.html" class="md-nav__link">Refactoring the server implementatin</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="Project-Structure.html" class="md-nav__link">Project directions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="Project-directions.html" class="md-nav__link">Project directions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="Project-tasks-organization.html" class="md-nav__link">Project tasks organization</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="scsynth-development.html" class="md-nav__link">scsynth development</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../style/index.html" class="md-nav__link">Code style guidelines</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../platforms/index.html" class="md-nav__link">Plattforms</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../releasing/index.html" class="md-nav__link">Releasing</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../reviewing/index.html" class="md-nav__link">Reviewing</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../user/index.html" class="md-nav__link">User resources</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../community/index.html" class="md-nav__link">Community</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../faq/index.html" class="md-nav__link">FAQ</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#development-project-structure-continuous-integration-github-actions--page-root" class="md-nav__link">CI: GitHub Actions</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#branch-vs-pr-builds" class="md-nav__link">Branch vs PR builds</a>
        </li>
        <li class="md-nav__item"><a href="#access-to-ci" class="md-nav__link">Access to CI</a>
        </li>
        <li class="md-nav__item"><a href="#access-to-s3" class="md-nav__link">Access to S3</a>
        </li>
        <li class="md-nav__item"><a href="#encrypted-information" class="md-nav__link">Encrypted information</a>
        </li>
        <li class="md-nav__item"><a href="#storage-and-deployment-of-build-artifacts" class="md-nav__link">Storage and deployment of build artifacts</a>
        </li>
        <li class="md-nav__item"><a href="#skip-ci" class="md-nav__link">[skip ci]</a>
        </li>
        <li class="md-nav__item"><a href="#restarting-builds" class="md-nav__link">Restarting builds</a>
        </li>
        <li class="md-nav__item"><a href="#ci-config-files" class="md-nav__link">CI config files</a>
        </li>
        <li class="md-nav__item"><a href="#linting" class="md-nav__link">Linting</a>
        </li>
        <li class="md-nav__item"><a href="#build-steps" class="md-nav__link">Build steps</a>
        </li>
        <li class="md-nav__item"><a href="#test-suite" class="md-nav__link">Test suite</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#which-tests-are-being-run" class="md-nav__link">Which tests are being run</a>
        </li>
        <li class="md-nav__item"><a href="#adding-new-tests-to-the-test-suite" class="md-nav__link">Adding new tests to the test suite</a>
        </li>
        <li class="md-nav__item"><a href="#removing-tests-from-the-test-suite" class="md-nav__link">Removing tests from the test suite</a>
        </li>
        <li class="md-nav__item"><a href="#additional-notes" class="md-nav__link">Additional notes</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#notes-on-migrating-from-travis-appveyor-to-github-actions" class="md-nav__link">Notes on migrating from Travis/AppVeyor to GitHub Actions</a>
        </li>
        <li class="md-nav__item"><a href="#troubleshooting-tips-and-tricks" class="md-nav__link">Troubleshooting, tips and tricks</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../_sources/development/project-structure/Continuous-integration:-GitHub-Actions.md.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="ci-github-actions">
<h1 id="development-project-structure-continuous-integration-github-actions--page-root">CI: GitHub Actions<a class="headerlink" href="#development-project-structure-continuous-integration-github-actions--page-root" title="Link to this heading">¶</a></h1>
<p>As of March 2021, <a class="reference external" href="https://github.com/supercollider/supercollider/wiki/GitHub-Actions-migration-notes">we have fully moved</a> our CI from Travis and AppVeyor to GitHub Actions for the main SuperCollider repository.</p>
<p>As of March 2021, sc3-plugins CI has not been moved to GitHub Actions.</p>
<p>“Continuous integration” (CI) is a practice where an application is continuously tested in a reproducible, fixed environment, and is useful to quickly detect bugs and regressions and the changes that introduce them. We have CI services for SuperCollider and sc3-plugins provided by GitHub Actions (GHA). This document is intended to provide information about this system and how we use them for people maintaining our CI integrations or interested in maintaining them.</p>
<p>Several things are checked in our CI builds:</p>
<ul class="simple">
<li><p>various dependencies can be installed reliably</p></li>
<li><p>the project can be configured correctly by CMake</p></li>
<li><p>the project builds successfully</p></li>
<li><p>tests all pass</p></li>
</ul>
<p>CI is also responsible for pushing release artifacts to GitHub (the “assets” shown in <a class="reference external" href="https://github.com/supercollider/supercollider/releases">the releases page</a>) and for pushing builds to our S3 AWS cloud storage. Builds are also accessible for a limited time directly in the Actions page.</p>
<section id="branch-vs-pr-builds">
<h2 id="branch-vs-pr-builds">Branch vs PR builds<a class="headerlink" href="#branch-vs-pr-builds" title="Link to this heading">¶</a></h2>
<p>Currently GitHub Actions builds are triggered for following events:</p>
<ol class="arabic simple">
<li><p>“PR”: builds the result of merging a PR, to check whether the merge is acceptable. Triggered on every update to a PR branch</p></li>
<li><p>“branch”: builds a commit in its current state. Triggered on every update to any branch in the main repository.</p></li>
</ol>
<p>A single push can trigger both a PR and branch build if the branch is in the main repo and also open as PR.</p>
<p>Important: “PR” builds don’t have access to encrypted environment variables which we use for things like access keys and IDs. Of course, it would be a major security risk otherwise. Upload to S3 is disabled for those builds.</p>
</section>
<section id="access-to-ci">
<h2 id="access-to-ci">Access to CI<a class="headerlink" href="#access-to-ci" title="Link to this heading">¶</a></h2>
<p>Anyone can see the status of the GitHub Action after selecting “Actions” tab in the SuperCollider repository. Anyone with Reviewer, Trusted reviewer, or Core Team status can restart builds and modify some settings in GitHub Actions.</p>
</section>
<section id="access-to-s3">
<h2 id="access-to-s3">Access to S3<a class="headerlink" href="#access-to-s3" title="Link to this heading">¶</a></h2>
<p>Our S3 storage is owned by Scott Carver. Brian Heim also has limited access.</p>
</section>
<section id="encrypted-information">
<h2 id="encrypted-information">Encrypted information<a class="headerlink" href="#encrypted-information" title="Link to this heading">¶</a></h2>
<p>Sensitive information is stored in SuperCollider’s “Repository secrets”. We use this functionality for storing S3 access keys.</p>
</section>
<section id="storage-and-deployment-of-build-artifacts">
<h2 id="storage-and-deployment-of-build-artifacts">Storage and deployment of build artifacts<a class="headerlink" href="#storage-and-deployment-of-build-artifacts" title="Link to this heading">¶</a></h2>
<p>Builds produce “artifacts”, in our case dmg files, zip files and Windows installers. These are stored in 3 places:</p>
<ul class="simple">
<li><p>GitHub Action’s own storage (available for a limited time and only for authenticated GitHub users)</p></li>
<li><p>An AWS S3 instance</p></li>
<li><p>GitHub releases pages</p></li>
</ul>
<p>Brian Heim and Scott Carver have access to the S3 instance we use for storage. For info on where the S3 builds live, see <a class="reference external" href="https://github.com/supercollider/supercollider/wiki/Miscellaneous-project-information-(CI,-maintenance-scripts,-etc.)#s3-build-hosting">here</a>.</p>
<p>For SC and sc3-plugins:</p>
<ul class="simple">
<li><p>on every build of an internal branch, a DMG/ZIP macOS archive and ZIP Windows archives are deployed to S3</p></li>
<li><p>on every build of a tag, a DMG/ZIP macOS archive, Windows installers (SC) and ZIP Windows archives are deployed to the GitHub release</p></li>
</ul>
</section>
<section id="skip-ci">
<h2 id="skip-ci">[skip ci]<a class="headerlink" href="#skip-ci" title="Link to this heading">¶</a></h2>
<p>In GHA, we automatiacally skip building if the changes are made only to help files, <code class="docutils literal notranslate"><span class="pre">*.md</span></code> files, examples, and sounds. See <a class="reference external" href="https://github.com/supercollider/supercollider/blob/develop/.github/workflows/actions.yml#L10">paths-ignore section in the workflow file</a>.</p>
<p>Additionally, if you have <code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">ci]</span></code> in the first line of your commit message then GHA won’t build it. Please <strong>only</strong> use this functionality when a commit only changes comments, documentation files, or other text files. Do not use it when adding, deleting, or renaming files.</p>
</section>
<section id="restarting-builds">
<h2 id="restarting-builds">Restarting builds<a class="headerlink" href="#restarting-builds" title="Link to this heading">¶</a></h2>
<p>If a build fails for a spurious reason and you think it will work on the next run, restart it. To to the Actions tab, open the Workflow that’s failing, and press “Re-run jobs” in the top-right section of the screen.</p>
</section>
<section id="ci-config-files">
<h2 id="ci-config-files">CI config files<a class="headerlink" href="#ci-config-files" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">.github/workflows/actions.yml</span></code> is the YAML file that control configuration of GHA.</p>
</section>
<section id="linting">
<h2 id="linting">Linting<a class="headerlink" href="#linting" title="Link to this heading">¶</a></h2>
<p>In first job that’s run in GHA the whole project is linted. All other builds depend on that one, so if linting fails, no actual compilation occurs. The log will print out the linting diff, which you can share with a PR author.</p>
</section>
<section id="build-steps">
<h2 id="build-steps">Build steps<a class="headerlink" href="#build-steps" title="Link to this heading">¶</a></h2>
<p>(to be added)</p>
<p>qpm is our python test runner (github.com/supercollider/qpm), see the repo for more info.</p>
</section>
<section id="test-suite">
<h2 id="test-suite">Test suite<a class="headerlink" href="#test-suite" title="Link to this heading">¶</a></h2>
<p>Our test suite is run using qpm, see <a class="reference external" href="https://github.com/supercollider/supercollider/pull/5332">#5332</a> for more details.</p>
<section id="which-tests-are-being-run">
<h3 id="which-tests-are-being-run">Which tests are being run<a class="headerlink" href="#which-tests-are-being-run" title="Link to this heading">¶</a></h3>
<p>We use the test suite from <a class="reference external" href="https://github.com/supercollider/supercollider/tree/develop/testsuite/classlibrary">https://github.com/supercollider/supercollider/tree/develop/testsuite/classlibrary</a>. We run <em>all the tests</em>, <em>except</em> the ones excluded in <a class="reference external" href="https://github.com/supercollider/supercollider/blob/develop/testsuite/scripts/gha_test_run_proto.json">https://github.com/supercollider/supercollider/blob/develop/testsuite/scripts/gha_test_run_proto.json</a>.</p>
</section>
<section id="adding-new-tests-to-the-test-suite">
<h3 id="adding-new-tests-to-the-test-suite">Adding new tests to the test suite<a class="headerlink" href="#adding-new-tests-to-the-test-suite" title="Link to this heading">¶</a></h3>
<p>In order to add tests to the test suite, just add them to <a class="reference external" href="https://github.com/supercollider/supercollider/tree/develop/testsuite/classlibrary">https://github.com/supercollider/supercollider/tree/develop/testsuite/classlibrary</a>. Once the changes are pushed to the repository, they will be run in GHA.</p>
</section>
<section id="removing-tests-from-the-test-suite">
<h3 id="removing-tests-from-the-test-suite">Removing tests from the test suite<a class="headerlink" href="#removing-tests-from-the-test-suite" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>If the test has issues and needs to be disabled temporarily, please add an <a class="reference external" href="https://github.com/supercollider/supercollider/blob/develop/testsuite/scripts/gha_test_run_proto.json#L7">entry</a> with <code class="docutils literal notranslate"><span class="pre">"skip":true</span></code> parameter to <a class="reference external" href="https://github.com/supercollider/supercollider/blob/develop/testsuite/scripts/gha_test_run_proto.json">https://github.com/supercollider/supercollider/blob/develop/testsuite/scripts/gha_test_run_proto.json</a></p></li>
<li><p>If the test is invalid for whatever reason, it should probably be removed from <a class="reference external" href="https://github.com/supercollider/supercollider/tree/develop/testsuite/classlibrary">https://github.com/supercollider/supercollider/tree/develop/testsuite/classlibrary</a></p></li>
</ul>
</section>
<section id="additional-notes">
<h3 id="additional-notes">Additional notes<a class="headerlink" href="#additional-notes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Running scsynth in GH runners is possible. On Linux one can use jack1 with dummy driver; on macOS, while audio hardware is not present, the runners have SoundFlower installed and SC server boots fine using it.</p></li>
</ul>
</section>
</section>
<section id="notes-on-migrating-from-travis-appveyor-to-github-actions">
<h2 id="notes-on-migrating-from-travis-appveyor-to-github-actions">Notes on migrating from Travis/AppVeyor to GitHub Actions<a class="headerlink" href="#notes-on-migrating-from-travis-appveyor-to-github-actions" title="Link to this heading">¶</a></h2>
<p>See <a class="reference internal" href="../git/GitHub-Actions-migration-notes.html#github-actions-migration-notes"><span class="std std-ref">GitHub Actions migration notes</span></a>.</p>
</section>
<section id="troubleshooting-tips-and-tricks">
<h2 id="troubleshooting-tips-and-tricks">Troubleshooting, tips and tricks<a class="headerlink" href="#troubleshooting-tips-and-tricks" title="Link to this heading">¶</a></h2>
<p>The most important thing when troubleshooting a CI issue is to check the log carefully. Sometimes, errors early on don’t manifest until much later in the build.</p>
<hr class="docutils"/>
<p>If you see a failing build and can interpret the reason for the failure, do so, especially for newer contributors and when the reason for the build failing is not obvious.</p>
<hr class="docutils"/>
<p>Sometimes the CI might be temporarily unavailable and not build a commit. Usually manually restarting the workflow should fix this. If not, a last resort is to push the same set of commits under a different branch name, and then make a new PR for that. For example if your branch <code class="docutils literal notranslate"><span class="pre">topic/example</span></code> is the problem:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>topic/example
git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>topic/example-retry
git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>topic/example-retry
</pre></div>
</div>
<p>You could also push an empty or otherwise bogus commit.</p>
<hr class="docutils"/>
<p>If you have the time and patience, when you see a build failure try to see if there is a way it could have been made clearer and contribute it. There is lots of room for improvement.</p>
<hr class="docutils"/>
<p>If you make a change to one of sc3-plugins or SC’s CI files, double check whether the same change should apply to the other.</p>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="index.html" title="Project structure"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> Project structure </span>
              </div>
            </a>
          
          
            <a href="Continuous-integration%3A-Travis-and-Appveyor.html" title="CI: Travis and AppVeyor"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> CI: Travis and AppVeyor </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2024, SuperCollider.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>