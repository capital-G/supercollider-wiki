<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>UGen-Quality standards &#8212; SuperCollider Wiki  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=039e1c02" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=7d9986eb" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Development" href="../development/index.html" />
    <link rel="prev" title="The wiki-wiki" href="The-wiki-wiki.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="ugen-quality-standards">
<h1>UGen-Quality standards<a class="headerlink" href="#ugen-quality-standards" title="Link to this heading">¶</a></h1>
<p>UGens proposed for inclusion in the main SuperCollider project should meet more rigorous standards than those found “in the wild.” These are standards the community has agreed upon for new UGens:</p>
<ul class="simple">
<li><p><strong>General software quality concerns:</strong></p>
<ul>
<li><p>UGens in core should never break backward compatibility.</p></li>
<li><p>UGens should be fully documented, with a clear explanation of what it does and an appropriate collection of
examples. Be sure to document which UGen inputs are modulatable at which rates.</p></li>
<li><p>UGens should be efficient. SuperCollider takes pride in being easy on the CPU, and UGens should help support that
reputation.</p></li>
<li><p>The UGen should be deemed useful enough to the general SC user base.</p></li>
<li><p>Each UGen should be in a separate C++ source file (or multiple source files if it’s really that long).</p></li>
<li><p>Don’t leave any unnecessary print statements lying around.</p></li>
</ul>
</li>
<li><p><strong>Safety:</strong></p>
<ul>
<li><p>Check input rates in the sclang class.</p></li>
<li><p>UGens should be real-time safe. Ross Bencina’s [“Real-time audio programming 101”]
(http://www.rossbencina.com/code/real-time-audio-programming-101-time-waits-for-nothing) is required reading.
Here is a quick and incomplete blocklist of dangerous features:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">malloc</span></code>/<code class="docutils literal notranslate"><span class="pre">free</span></code>/<code class="docutils literal notranslate"><span class="pre">new</span></code>: use <code class="docutils literal notranslate"><span class="pre">RTAlloc</span></code> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">throw</span></code>/<code class="docutils literal notranslate"><span class="pre">catch</span></code>: use return codes instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dynamic_cast</span></code></p></li>
<li><p>System calls. These are complicated to handle and require use of an NRT thread.</p></li>
</ul>
</li>
<li><p>Any calls to <code class="docutils literal notranslate"><span class="pre">RTAlloc</span></code> should check the result for <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. This usually happens when there
isn’t enough real-time memory left. The server will crash if this check is not made.</p></li>
<li><p>The Ctor sample should be initialized. If this is not done, very nasty bugs can occur.</p></li>
<li><p>Zap dangerous values (subnormals, infinities, nans) in feedback loops to zero. SC provides a
<code class="docutils literal notranslate"><span class="pre">zapgremlins</span></code> function that does this for you.</p></li>
</ul>
</li>
<li><p><strong>Utility:</strong></p>
<ul>
<li><p>UGens should have both <code class="docutils literal notranslate"><span class="pre">.ar</span></code> and <code class="docutils literal notranslate"><span class="pre">.kr</span></code> methods if applicable.</p></li>
<li><p>Sample rate and block size independence should be maintained if applicable. For example, audio UGens shouldn’t sound
radically different if the sample rate is increased.</p></li>
<li><p>For audio UGens, control-rate inputs should be interpolated if applicable.</p></li>
<li><p>Don’t arbitrarily make certain inputs nonmodulatable just for programming convenience – carefully anticipate what’s
worth modulating. Either way, don’t forget to document it.</p></li>
</ul>
</li>
<li><p><strong>Modernization and deprecated features:</strong></p>
<ul>
<li><p>When writing a new UGen from scratch, it is recommended to use the modern C++ style seen in <code class="docutils literal notranslate"><span class="pre">SC_PlugIn.hpp</span></code>.</p></li>
<li><p>Don’t use <code class="docutils literal notranslate"><span class="pre">mul</span></code> and <code class="docutils literal notranslate"><span class="pre">add</span></code> arguments. These were originally introduced for efficiency, but now <code class="docutils literal notranslate"><span class="pre">Foo.ar</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">+</span> <span class="pre">1</span></code> gets
optimized into a <code class="docutils literal notranslate"><span class="pre">MulAdd</span></code>.</p></li>
<li><p>Don’t use a <code class="docutils literal notranslate"><span class="pre">doneAction</span></code> argument. Set the done flag instead.</p></li>
</ul>
</li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">SuperCollider Wiki</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common/index.html">Common references</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow/index.html">Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="The-wiki-wiki.html">The wiki-wiki</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">UGen-Quality standards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Contributing</a><ul>
      <li>Previous: <a href="The-wiki-wiki.html" title="previous chapter">The wiki-wiki</a></li>
      <li>Next: <a href="../development/index.html" title="next chapter">Development</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2024, SuperCollider.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/contributing/UGen-Quality-Standards.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>